# ğŸ”§ Schema Drift Detection ì„¤ì •
# TJë‹˜ ì œì•ˆì— ë”°ë¥¸ ì˜ˆì™¸ ê·œì¹™ ë° ê²€ì‚¬ ì„¤ì •

# ë“œë¦¬í”„íŠ¸ ê²€ì‚¬ì—ì„œ ì œì™¸í•  í…Œì´ë¸” íŒ¨í„´
ignore_tables:
  # ì„ì‹œ/ìŠ¤í…Œì´ì§• í…Œì´ë¸”
  - "^staging_.*"                    # stagingìœ¼ë¡œ ì‹œì‘í•˜ëŠ” ëª¨ë“  í…Œì´ë¸”
  - "^temp_.*"                      # ì„ì‹œ í…Œì´ë¸”ë“¤
  
  # ë°±ì—…/ì•„ì¹´ì´ë¸Œ í…Œì´ë¸”  
  - ".*_backup$"                    # _backupìœ¼ë¡œ ëë‚˜ëŠ” ëª¨ë“  í…Œì´ë¸”
  - "^.*_additional_backup$"        # ì¶”ê°€ ë°±ì—… í…Œì´ë¸”ë“¤
  - "^archive_.*"                   # ì•„ì¹´ì´ë¸Œ í…Œì´ë¸”ë“¤
  
  # ë¡œê·¸/ë³€ê²½ ì¶”ì  í…Œì´ë¸”
  - "^payment_staff_changes$"       # ê²°ì œ ë‹´ë‹¹ì ë³€ê²½ ë¡œê·¸
  - "^.*_changes$"                  # ë³€ê²½ ë¡œê·¸ í…Œì´ë¸”ë“¤
  - "^.*_history$"                  # íˆìŠ¤í† ë¦¬ í…Œì´ë¸”ë“¤
  - "^.*_audit$"                    # ê°ì‚¬ í…Œì´ë¸”ë“¤
  
  # ë§ˆì´ê·¸ë ˆì´ì…˜ ê´€ë ¨
  - "^migration_.*"                 # ë§ˆì´ê·¸ë ˆì´ì…˜ ì„ì‹œ í…Œì´ë¸”
  - "^alembic_version$"             # Alembic ë²„ì „ í…Œì´ë¸”

# ë“œë¦¬í”„íŠ¸ ê²€ì‚¬ ì˜µì…˜
options:
  # ì»¬ëŸ¼ íƒ€ì… ë³€ê²½ ê°ì§€ ì—¬ë¶€
  check_column_types: true
  
  # ì¸ë±ìŠ¤ ë³€ê²½ ê°ì§€ ì—¬ë¶€  
  check_indexes: false
  
  # Foreign Key ì œì•½ì¡°ê±´ ë³€ê²½ ê°ì§€ ì—¬ë¶€
  check_foreign_keys: true
  
  # ì•Œë¦¼ ì„¤ì •
  email_alerts: true
  
  # ìë™ ë² ì´ìŠ¤ë¼ì¸ ì—…ë°ì´íŠ¸ (ì£¼ì˜: í”„ë¡œë•ì…˜ì—ì„œëŠ” false ê¶Œì¥)
  auto_update_baseline: false

# ë¹„ì¦ˆë‹ˆìŠ¤ í¬ë¦¬í‹°ì»¬ í…Œì´ë¸” (ë°˜ë“œì‹œ ëª¨ë‹ˆí„°ë§)
critical_tables:
  - "customers"
  - "payments" 
  - "reservations"
  - "services"
  - "service_types"
  - "packages"
  - "users"

# ì•Œë¦¼ ìˆ˜ì‹ ì
alert_recipients:
  - "dev-team@company.com"
  - "dba@company.com"

# ê²€ì‚¬ ì˜ˆì™¸ ìŠ¹ì¸ì (ìˆ˜ë™ ìŠ¹ì¸ í•„ìš”ì‹œ)
approval_required_for:
  - "critical_table_changes"
  - "column_removals"
  - "foreign_key_changes"

# í™˜ê²½ë³„ ì„¤ì •
environments:
  development:
    auto_update_baseline: true
    email_alerts: false
    
  staging: 
    auto_update_baseline: true
    email_alerts: true
    
  production:
    auto_update_baseline: false
    email_alerts: true
    strict_mode: true